(!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&document.addEventListener("dblclick",(function(event){if(null!==event.target.closest(".conversation")){const content=event.target.closest(".conversation"),currentScale=window.getComputedStyle(content).transform,scaleMatrix=new WebKitCSSMatrix(currentScale),scaleX=scaleMatrix.a,scaleY=scaleMatrix.d;1===scaleX&&1===scaleY?(content.style.transform="scaleX(1.2) scaleY(1.2)",content.classList.add("enlarged")):(content.style.transform="scaleX(1) scaleY(1)",content.classList.remove("enlarged"))}}));const shareButton=document.getElementById("share-button"),pdfButton=document.getElementById("pdf-button");navigator.share?(shareButton.addEventListener("click",(async()=>{try{const contentElements=document.querySelectorAll(".content");let text="";for(let element of contentElements)text+=element.textContent+"\n";await navigator.clipboard.writeText(text),await navigator.share({title:"FreeGPT",text:text})}catch(error){console.error("Error sharing content",error)}})),pdfButton.addEventListener("click",(()=>{try{let currentPage=0;const pdf=new jspdf.jsPDF,messageElements=document.querySelectorAll(".message.user, .message.assistant");Array.from(messageElements).sort(((a,b)=>2&a.compareDocumentPosition(b)?1:-1)).forEach((element=>{let cleanText="\n"+element.textContent.replace(/^[\t\s]+/,"").replace(/[\t\s]+$/,"").replace(/content_copycontent_copy/g,"").replace(/content_copy/g,"");element.classList.contains("user")?(pdf.getFont(),pdf.setFont("Helvetica","italic"),pdf.setFontSize(12),pdf.setLineHeightFactor(.5)):(pdf.getFont(),pdf.setFont("Helvetica","normal"),pdf.setFontSize(12),pdf.setLineHeightFactor(.5)),pdf.splitTextToSize(cleanText,pdf.internal.pageSize.width-20).forEach((line=>{10*currentPage+10>=pdf.internal.pageSize.height&&(pdf.addPage(),currentPage=0),pdf.text(line,10,10+10*currentPage),currentPage++}))})),pdf.save("FreeGPT.pdf")}catch(error){console.error("Error printing content",error)}}))):(shareButton.style.display="none",pdfButton.style.display="none");