async function fetchLanguages(){try{const[languagesResponse,currentLanguageResponse]=await Promise.all([fetch(`${url_prefix}/get-languages`),fetch(`${url_prefix}/get-locale`)]);await languagesResponse.json(),await currentLanguageResponse.text()}catch(error){console.error("Failed to fetch languages or current language")}}function setLanguageOnPageLoad(language){document.getElementById("language").value=language}function changeLanguage(lang){fetch(`${url_prefix}/change-language`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:lang})}).then((response=>{response.ok?(localStorage.setItem("language",lang),location.reload()):console.error("Failed to change language")}))}document.addEventListener("DOMContentLoaded",fetchLanguages);